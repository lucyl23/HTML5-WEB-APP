<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å•†å“åˆ—è¡¨ - æœå°‹åŠŸèƒ½</title>
<link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-6 bg-gray-100">

<h1 class="text-2xl font-bold mb-4">æœå°‹å•†å“</h1>
<input id="searchInput" type="text" placeholder="è¼¸å…¥é—œéµå­—..." class="input input-bordered w-full max-w-xs mb-4" />
// ç‚ºäº†æ‹¿åˆ°è¼¸å…¥çš„å…§å®¹ï¼Œå°‡è¼¸å…¥çš„å…§å®¹å‘½åä¸€å€‹Id(å”¯ä¸€)
<div id="productList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>

<script>
const products = [
  { name: "ç´…èŒ¶", desc: "é¦™é†‡å¥½å–", price: 20, img: "https://picsum.photos/300/200?31" },
  { name: "ç¶ èŒ¶", desc: "æ¸…çˆ½è§£æ¸´", price: 18, img: "https://picsum.photos/300/200?32" },
  { name: "å¥¶èŒ¶", desc: "é¦™æ¿ƒç”œç¾", price: 25, img: "https://picsum.photos/300/200?33" },
];

const container = document.getElementById("productList");
const searchInput = document.getElementById("searchInput");    // è¨­å®šè®Šæ•¸searchInputç‚ºæ‰¾åˆ°Id="searchInput"

function render(list){
  container.innerHTML = "";
  for(let i=0;i<list.length;i++){
    const p = list[i];
    container.innerHTML += `
      <div class="card bg-base-100 shadow-xl">
        <figure><img src="${p.img}" alt="${p.name}"></figure>
        <div class="card-body">
          <h2 class="card-title">${p.name}</h2>
          <p>${p.desc}</p>
          <p class="text-red-500 font-bold">åƒ¹æ ¼ï¼š${p.price} å…ƒ</p>
        </div>
      </div>
    `;
  }
}

// åˆå§‹é¡¯ç¤ºå…¨éƒ¨
render(products);

// âœ… keyup å³æ™‚ç¯©é¸
searchInput.addEventListener("keyup", function(){
  const keyword = searchInput.value.trim().toLowerCase();   
  const filtered = [];
  for(let i=0;i<products.length;i++){
    const p = products[i];
    // åç¨±æˆ–æè¿°åŒ…å«è¼¸å…¥æ–‡å­—
    if(p.name.toLowerCase().includes(keyword) || p.desc.toLowerCase().includes(keyword)){
      filtered.push(p);
    }
  }
  render(filtered);
});
</script>
  
</body>
</html>

<!--
form è¡¨å–®
label æ¨™ç±¤
input è¼¸å…¥è³‡æ–™çš„åœ°æ–¹
-->

<!--
äº‹ä»¶: keyup è³‡æ–™è¼¸å…¥å®Œåœä¸‹ä¾†æ™‚
.value å–è£¡é¢çš„å€¼
.trim() å»é ­å»å°¾(ç©ºæ ¼/ç©ºç™½å­—å…ƒ)
.toLowerCase() è‹±æ–‡è¼¸å…¥æ™‚ï¼Œå°‡æ‰€æœ‰è‹±æ–‡å­—è½‰ç‚ºå°å¯«
å­—ä¸².includes(keyword) å­—ä¸²è£¡é¢åŒ…å«(includes)è¦æ‰¾çš„å­å­—ä¸²(keyword)
-->

<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å•†å“åˆ—è¡¨ - ç‰ˆæœ¬7ï¼ˆé™„è¨»è§£ï¼‰</title>
<link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-6 bg-gray-100">

<h1 class="text-2xl font-bold mb-4">å•†å“æ’åº</h1>

<div class="mb-4 space-x-2">
  <button id="ascBtn" class="btn btn-accent">åƒ¹æ ¼å‡åº</button>
  <button id="descBtn" class="btn btn-accent">åƒ¹æ ¼é™åº</button>
</div>

<div id="productList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>

<script>
// å•†å“è³‡æ–™ï¼ˆæ¯å€‹éƒ½æ˜¯ç‰©ä»¶ï¼‰
const products = [
  { name: "å¯æ¨‚", price: 35, desc: "ç¶“å…¸æ±½æ°´", img: "https://picsum.photos/300/200?41" },
  { name: "æœæ±", price: 25, desc: "å¤©ç„¶æ°´æœ", img: "https://picsum.photos/300/200?42" },
  { name: "ç¤¦æ³‰æ°´", price: 15, desc: "æ¸…æ¶¼è§£æ¸´", img: "https://picsum.photos/300/200?43" },
];

// é é¢å…ƒç´ 
const container = document.getElementById("productList");
const ascBtn = document.getElementById("ascBtn");
const descBtn = document.getElementById("descBtn");

// é¡¯ç¤ºå•†å“çš„å‡½å¼
function render(list){
  container.innerHTML = "";
  for(let i=0; i<list.length; i++){
    const p = list[i];
    container.innerHTML +=
      '<div class="card bg-base-100 shadow-xl">' +
        '<figure><img src="' + p.img + '" alt="' + p.name + '"></figure>' +
        '<div class="card-body">' +
          '<h2 class="card-title">' + p.name + '</h2>' +
          '<p>' + p.desc + '</p>' +
          '<p class="text-red-500 font-bold">åƒ¹æ ¼ï¼š' + p.price + ' å…ƒ</p>' +
        '</div>' +
      '</div>';
  }
}

// åˆå§‹é¡¯ç¤º
render(products);

// ğŸ”½ å‡åºæ’åˆ—ï¼ˆå° â†’ å¤§ï¼‰
ascBtn.addEventListener("click", function(){
  /* 
   sort()ï¼šç”¨ä¾†é‡æ–°æ’åˆ—é™£åˆ—çš„é †åºã€‚
   - å®ƒæœƒä¿®æ”¹åŸæœ¬çš„é™£åˆ—ï¼
   - å‚³å…¥çš„å‡½å¼ (a, b) æœƒç”¨ä¾†æ¯”è¼ƒå…©å€‹é …ç›®ã€‚

   å¦‚æœï¼š
     å›å‚³ã€Œè² æ•¸ã€ â†’ a æœƒæ’åœ¨ b å‰é¢
     å›å‚³ã€Œæ­£æ•¸ã€ â†’ a æœƒæ’åœ¨ b å¾Œé¢
     å›å‚³ã€Œ0ã€   â†’ ä½ç½®ä¸è®Š
  */

  products.sort(function(a, b){                         // productsé™£åˆ—å»æ’åºsortï¼Œé¸å…©å€‹å€¼å»æ¯”(a,b)
    // a.price æ¯” b.price å°æ™‚ â†’ a - b æ˜¯è² æ•¸ â†’ a æ’å‰
    // æ‰€ä»¥é€™æ¨£æ˜¯ã€Œç”±å°æ’åˆ°å¤§ã€
    return a.price - b.price;                           // return True
  });

  render(products);
});

// ğŸ”¼ é™åºæ’åˆ—ï¼ˆå¤§ â†’ å°ï¼‰
descBtn.addEventListener("click", function(){
  /*
   é€™è£¡åªæ˜¯æŠŠé †åºåéä¾†ï¼š
   b.price - a.price å¦‚æœæ˜¯æ­£æ•¸ï¼Œå°±ä»£è¡¨ b æ¯” a å¤§ï¼Œ
   è®“ b æ’åœ¨å‰é¢ â†’ è®Šæˆå¾å¤§åˆ°å°ã€‚
  */
  products.sort(function(a, b){
    return b.price - a.price;
  });

  render(products);
});
</script>

</body>
</html>

